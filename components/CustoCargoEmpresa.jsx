'use client';
import React, { useState, useEffect } from 'react';
import { PieChart, Pie, Cell, ResponsiveContainer } from 'recharts';
const ENCARGOS = [{ nome: 'INSS', pct: 0.20, cor: '#3b82f6' }, { nome: 'RAT', pct: 0.02, cor: '#8b5cf6' }, { nome: 'S.Educ', pct: 0.025, cor: '#6366f1' }, { nome: 'S.S', pct: 0.033, cor: '#0ea5e9' }, { nome: 'FGTS', pct: 0.08, cor: '#06b6d4' }, { nome: 'Multa', pct: 0.032, cor: '#1e40af' }];
const CustoCargoEmpresa = () => {
  const [salario, setSalario] = useState(5000);
  const [encargosData, setEncargosData] = useState([]);
  useEffect(() => { const calculados = ENCARGOS.map((enc) => ({ name: enc.nome, value: parseFloat((salario * enc.pct).toFixed(2)), cor: enc.cor })); setEncargosData(calculados); }, [salario]);
  const totalEncargos = encargosData.reduce((acc, enc) => acc + enc.value, 0); const custoTotal = salario + totalEncargos; const percentualTotal = ((totalEncargos / salario) * 100).toFixed(1);
  return (<div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 py-12 px-4"><div className="text-center mb-12"><h1 className="text-5xl font-bold text-slate-800 mb-2">Custo do Cargo</h1><p className="text-lg text-slate-600">Analise de Encargos Trabalhistas</p></div><div className="max-w-6xl mx-auto"><div className="bg-white rounded-lg shadow-md p-8 mb-8"><label className="block text-slate-700 font-semibold mb-3">Salario Base (R$)</label><input type="number" value={salario} onChange={(e) => setSalario(parseFloat(e.target.value) || 0)} className="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 text-lg font-semibold text-slate-800" /></div><div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">{ENCARGOS.map((encargoInfo, idx) => { const encargo = encargosData[idx]; return (<div key={encargoInfo.nome} className="bg-white rounded-lg shadow-md p-6 border-l-4" style={{borderLeftColor: encargoInfo.cor}}><span className="text-sm font-semibold text-slate-500 uppercase">{encargoInfo.nome}</span><p className="text-2xl font-bold text-slate-800 mt-2">R$ {encargo.value.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p></div>); })}</div><div className="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"><div className="bg-white rounded-lg shadow-md p-8"><h2 className="text-2xl font-bold text-slate-800 mb-6">Composicao do Custo</h2>{encargosData.length > 0 && (<ResponsiveContainer width="100%" height={300}><PieChart><Pie data={encargosData} cx="50%" cy="50%" label outterRadius={100} fill="#8884d8" dataKey="value">{encargosData.map((entry, idx) => (<Cell key={idx} fill={entry.cor} />))}</Pie></PieChart></ResponsiveContainer>)}</div><div className="bg-gradient-to-br from-blue-500 to-slate-700 rounded-lg shadow-lg p-8 text-white"><h2 className="text-2xl font-bold mb-6">Resumo</h2><div className="space-y-4"><div className="flex justify-between"><span>Salario:</span><span className="font-bold">R$ {salario.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</span></div><div className="flex justify-between"><span>Encargos:</span><span className="font-bold">R$ {totalEncargos.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</span></div><div className="bg-white bg-opacity-10 rounded-lg p-4 mt-6"><p className="text-sm">CUSTO TOTAL</p><p className="text-4xl font-bold">R$ {custoTotal.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p></div></div></div></div><div className="bg-white rounded-lg shadow-md p-8 mb-8"><h2 className="text-2xl font-bold text-slate-800 mb-8">Integrantes do Grupo</h2><div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8">{[{ nome: 'Ana Luiza', cor: '#e0e7ff' }, { nome: 'Priscila', cor: '#dbeafe' }, { nome: 'David Bringel', cor: '#e0f2fe' }, { nome: 'Marvel', cor: '#f0f9ff' }, { nome: 'Kaue Santos', cor: '#dbeafe' }, { nome: 'Victor', cor: '#e0e7ff' }, { nome: 'Pedro Sales', cor: '#f3e8ff' }].map((membro, idx) => (<div key={idx} className="rounded-lg p-4 text-center font-semibold text-slate-700 shadow-sm border border-slate-200" style={{backgroundColor: membro.cor}}>{membro.nome}</div>))}</div><div className="border-t-2 border-slate-200 pt-6 space-y-3"><p><strong>Professor Orientador:</strong> Rhubens Ewald Moura Ribeiro</p><p><strong>Grupo:</strong> Ostentacao Prime</p><p><strong>Localizacao:</strong> Teresina - PI</p></div></div></div><div className="text-center mt-12 pb-8 text-slate-600 text-sm"><p className="mb-2">Projeto academico - Analise de Custos do Cargo para fins educacionais</p><p className="text-slate-500">Ostentacao Prime - Teresina, PI</p></div></div>); }; export default CustoCargoEmpresa;
